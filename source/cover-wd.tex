%!TEX root = std.tex
%%--------------------------------------------------
%% Title page for the C++ Standard

\thispagestyle{empty}
\begingroup
\def\hd{\begin{tabular}{ll}
          \textbf{Document Number:} & D1460R1                     \\
          \textbf{Date:}            & \reldate                    \\
          \textbf{Reply to:}        & Marshall Clow               \\
                                    & mclow.lists@gmail.com       \\
                                    & Alberto Barbati             \\
                                    & ganesh@barbati.net          \\
          \end{tabular}
}
\newlength{\hdwidth}
\settowidth{\hdwidth}{\hd}
\hfill\begin{minipage}{\hdwidth}\hd\end{minipage}
\endgroup

\vspace{2.5cm}
\begin{center}
\textbf{\Huge
Mandating the Standard Library:\\Clause 20 - Utilities library}
\end{center}

\vspace{1.0cm}

With the adoption of P0788R3, we have a new way of specifying requirements for the
library clauses of the standard. This is one of a series of papers reformulating the
requirements into the new format. This effort was strongly influenced by the informational
paper P1369R0.

The changes in this series of papers fall into three broad categories.
\begin{itemize}
\item{Change "participate in overload resolution" wording into "Constraints" elements}
\item{Change "Requires" elements into either "Mandates" or "Preconditions", depending (mostly) on whether or not they can be checked at compile time.}
\item{Drive-by fixes (hopefully very few)}
\end{itemize}

This paper covers Clause 20 (Utilities), and is based on N4842.

Thank you to Daniel KrÃ¼gler, Tim Song, and Jonathan Wakely for their detailed reviews of R0.

Note: This is a different paper than P1462 (Mandating the Standard Library: Clause 20 - Strings library),
because when I started this project, "Utilities" was in clause 19.

%\vspace{1.0cm}
%The entire clause is reproduced here, but the changes are confined to a few sections:

%\begin{multicols}{2}
%\begin{itemize}
%\item{container.requirements.general  \ref{container.requirements.general}}
%\item{sequence.reqmts      \ref{sequence.reqmts}}
%\item{container.node.cons       \ref{container.node.cons}}
%\item{container.node.observers   \ref{container.node.observers}}
%\item{container.node.modifiers              \ref{container.node.modifiers}}
%\item{associative.reqmts          \ref{associative.reqmts}}
%\item{unord.req            \ref{unord.req}}
%
%\item{array.cons               \ref{array.cons}}
%\item{array.special             \ref{array.special}}
%\item{array.tuple              \ref{array.tuple}}
%\item{deque.cons          \ref{deque.cons}}
%\item{deque.capacity            \ref{deque.capacity}}
%\item{forwardlist.cons          \ref{forwardlist.cons}}
%\item{forwardlist.modifiers  \ref{forwardlist.modifiers}}
%\item{forwardlist.ops   \ref{forwardlist.ops}}
%\item{list.cons   \ref{list.cons}}
%\item{list.capacity   \ref{list.capacity}}
%\item{list.ops   \ref{list.ops}}
%\item{vector.cons   \ref{vector.cons}}
%\item{vector.capacity   \ref{vector.capacity}}
%
%\item{map.modifiers   \ref{map.modifiers}}
%\item{multimap.modifiers   \ref{multimap.modifiers}}
%\item{unord.map.modifiers  \ref{unord.map.modifiers}}
%\item{unord.multimap.modifiers  \ref{unord.multimap.modifiers}}
%
%\item{queue.special  \ref{queue.special}}
%\item{priqueue.cons  \ref{priqueue.cons}}
%\item{priqueue.special  \ref{priqueue.special}}
%\item{stack.special  \ref{stack.special}}
%\item{span.cons  \ref{span.cons}}
%
%\item{span.sub  \ref{span.sub}}
%\item{span.elem  \ref{span.elem}}
%\item{span.objectrep  \ref{span.objectrep}}
%\end{itemize}
%\end{multicols}


Drive-by fixes:
\begin{itemize}
\item{a couple of places that said "The constructor of Foo constructs an object of class Foo" have been removed}
\end{itemize}

Changes since R0:
\begin{itemize}
\item{Lots of de-shalling.}
\item{Undid the changes to [pair.pair]/16, [tuple.assign]/2, [optional.ctor]/3, 
 [optional.assign]/10, [variant.ctor]/10, [variant.assign]/6 after review. "Mandates" is not the same as "defined as deleted".}
\item{Changed [tuple.cnstr]/14 and [pairs.pair]/14 from "Preconditions" to "Mandates"}
\item{In [optional.relops] and [optional.comp.with.t], changed all the "Preconditions" to "Mandates" (and de-shalled).}
\item{"Preconditions" --> "Mandates" in [variant.relops]}
\item{Reworked [bitset.cons]/3 - /8. They were a mess before; hopefully less so now.}
\item{Changed the "Preconditions" for \tcode{aligned_storage} in [tab:meta.trans.other] into "Mandates"}
\end{itemize}

Open questions:
\begin{itemize}
\item{What should we do about [declval]/2? We don't want to use "shall", but all the alternatives sound worse.}
\item{[intseq] - Mandates don't apply to types, etc.}
\item{Do we want to keep [optional.observe] /4, /8/ /12, and /14 ?}
\end{itemize}

\vfill
Help for the editors: The changes here can be viewed as latex sources with the following commands
\begin{verbatim}
git clone git@github.com:mclow/mandate.git
cd mandate
git diff master..chapter19 utilities.tex
\end{verbatim}
\newpage
